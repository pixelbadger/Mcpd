{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Mcpd": {
    "Issuer": "https://dcr.contoso.com",
    "TokenSigningKey": "super-secret-signing-key-at-least-32-characters-long!!",
    "DefaultTokenLifetimeMinutes": 60,
    "DefaultSecretLifetimeDays": 90,
    "AdminApiKey": "admin-api-key-change-in-production",
    "AllowOpenRegistration": true,
    "RequireHttpsCallbacks": true
  },
  "McpServers": [
    {
      "Name": "code-assist",
      "Description": "Code generation and review MCP server",
      "BaseUri": "https://mcp-code.internal.contoso.com",
      "CallbackWhitelist": [
        "https://app.contoso.com/oauth/callback",
        "https://*.contoso.com/oauth/callback",
        "http://localhost:*/oauth/callback"
      ]
    },
    {
      "Name": "data-pipeline",
      "Description": "Data transformation and query MCP server",
      "BaseUri": "https://mcp-data.internal.contoso.com",
      "CallbackWhitelist": [
        "https://app.contoso.com/oauth/callback",
        "https://data.contoso.com/callback"
      ]
    }
  ],
  "AuthServer": {
    "Authority": "https://login.microsoftonline.com/contoso.onmicrosoft.com/v2.0",
    "Audience": "api://mcpd",
    "ServerAccessClaimType": "roles",
    "AdminRole": "Mcpd.Admin",
    "ServerMappings": {
      "code-assist": {
        "RequiredRoles": ["Mcpd.Server.CodeAssist"],
        "DefaultScopes": ["read", "write"]
      },
      "data-pipeline": {
        "RequiredRoles": ["Mcpd.Server.DataPipeline"],
        "DefaultScopes": ["read"]
      }
    }
  },
  "RateLimiting": {
    "Registration": {
      "Window": "00:01:00",
      "PermitLimit": 10
    },
    "Token": {
      "Window": "00:01:00",
      "PermitLimit": 60
    }
  }
}
